<!DOCTYPE html>

    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
		<meta name="msapplication-tap-highlight" content="no" />

        <link rel="stylesheet" type="text/css" href="css/index.css" />

		<script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        
        <title>Camera Demo</title>
    </head>
    <body>

        <div class="app">
			<h1 style="margin-top:50%">Camera</h1>
			<br>
			<button id="capture" >Capture Image</button>
			<button id="choose" >Choose Image</button>
	        <img id="finalImage" style="max-height: 100%; max-width: 100%;"></img>
        </div>
        


        <script type="text/javascript">
  			document.addEventListener("deviceready", onDeviceReady, false); 

			function onDeviceReady() {
				var cap = document.getElementById("capture");
				cap.addEventListener("click",captureImage,false);
				var pick = document.getElementById("choose");
				pick.addEventListener("click",chooseImage,false);
			}
			
			// Shoot
			function captureImage(){
				var cameraOptions = { 
					quality: 50, 
					destinationType: Camera.DestinationType.DATA_URL 
				};
				navigator.camera.getPicture( onSuccess, onError, cameraOptions);
			};
			
			function onSuccess(imageData) {
				var image = document.getElementById('finalImage'); 
				image.src = "data:image/jpeg;base64," + imageData;
			}
			
			function onError(error) { 
				alert('code: ' + error.code + '\n' +'message: ' + error.message + '\n');
			}
			
			// Pick
			function chooseImage(source) {
				var libraryOptions = { 
					quality: 50, 
					destinationType: Camera.DestinationType.FILE_URI, 
					sourceType: Camera.PictureSourceType.PHOTOLIBRARY 	
				};
				navigator.camera.getPicture(onPhotoURISuccess, onFail, {libraryOptions);
			}

        </script>
    </body>
</html>
